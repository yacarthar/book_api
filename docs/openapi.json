{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/api/v1/users/":{"post":{"tags":["Users"],"summary":"Register","operationId":"register_api_v1_users__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["Users"],"summary":"Get User ","operationId":"get_user__api_v1_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"integer","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/login":{"post":{"tags":["Users"],"summary":"Login","operationId":"login_api_v1_users_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/books/":{"post":{"tags":["books"],"summary":"Create Book ","operationId":"create_book__api_v1_books__post","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["books"],"summary":"List Books ","operationId":"list_books__api_v1_books__get","parameters":[{"name":"page","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"default":1,"title":"Page"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":5},{"type":"null"}],"default":5,"title":"Limit"}},{"name":"title","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}},{"name":"author","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Author"}},{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"\\b(?:before|after)?(\\d{4}-\\d{2}-\\d{2})\\b"},{"type":"null"}],"title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookSearch"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/books/{book_id}":{"get":{"tags":["books"],"summary":"Get Book ","operationId":"get_book__api_v1_books__book_id__get","parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["books"],"summary":"Delete Book ","operationId":"delete_book__api_v1_books__book_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["books"],"summary":"Update Book ","operationId":"update_book__api_v1_books__book_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"book_id","in":"path","required":true,"schema":{"type":"integer","title":"Book Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Book":{"properties":{"id":{"type":"integer","title":"Id"},"title":{"type":"string","title":"Title"},"author":{"type":"string","title":"Author"},"isbn":{"type":"string","title":"Isbn"},"publish_date":{"type":"string","format":"date","title":"Publish Date"},"price":{"type":"number","title":"Price"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","title","author","isbn","publish_date","price","created_at"],"title":"Book"},"BookCreate":{"properties":{"title":{"type":"string","pattern":"^[a-zA-Z0-9. ']+$","title":"Title"},"author":{"type":"string","pattern":"^[a-zA-Z. ']+$","title":"Author"},"isbn":{"type":"string","pattern":"^[0-9\\-]{10,20}$","title":"Isbn"},"publish_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Publish Date"},"price":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Price"}},"type":"object","required":["title","author","isbn"],"title":"BookCreate"},"BookSearch":{"properties":{"total":{"type":"integer","title":"Total"},"result":{"items":{"$ref":"#/components/schemas/Book"},"type":"array","title":"Result"},"next_page":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Next Page"},"prev_page":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Prev Page"}},"type":"object","required":["total","result"],"title":"BookSearch"},"BookUpdate":{"properties":{"title":{"type":"string","pattern":"^[a-zA-Z0-9. ']+$","title":"Title"},"author":{"type":"string","pattern":"^[a-zA-Z. ']+$","title":"Author"},"isbn":{"type":"string","pattern":"^[0-9\\-]{10,20}$","title":"Isbn"},"publish_date":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"title":"Publish Date"},"price":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Price"}},"type":"object","title":"BookUpdate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"User":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"id":{"type":"integer","title":"Id"},"username":{"type":"string","title":"Username"}},"type":"object","required":["email","id","username"],"title":"User"},"UserCreate":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"username":{"type":"string","maxLength":30,"pattern":"^[a-zA-Z0-9]+$","title":"Username"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","username","password"],"title":"UserCreate"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","minLength":8,"title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/users/login"}}}}}}